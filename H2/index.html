<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
        <script>
            let scores = {
                'Beluga': 0,
                'Turtle Dove': 0,
                '\'Bred\'': 0,
                'Zebra': 0,
                'Oreo': 0,
                'Moonrock': 0
            }

            let images = {
                'Beluga': "https://newsneakernews-wpengine.netdna-ssl.com/wp-content/uploads/2016/11/yeezy-boost-350-v2-hbx-restock-1.jpg",
                'Turtle Dove': "https://68.media.tumblr.com/9e13cf3d973ee5947dc2fa7c254ad643/tumblr_o510bcfQ701v3ebpbo1_500.jpg",
                '\'Bred\'': "https://cdn5.kicksonfire.com/wp-content/uploads/2017/02/adidas-Yeezy-Boost-350-v2-5.png?x77385",
                'Zebra': "https://www.sneakerfreaker.com/wp-content/uploads/2017/01/ADIDAS-YEEZY-BOOST-350-V2-BLACK-WHITE-ZEBRA-RELEASE-DATE-4-700x468.jpg",
                'Oreo': "http://sneakernews.com/wp-content/uploads/2016/11/yeezy-boost-350-v2-black-white-5.jpg",
                'Moonrock': "https://sneakerbardetroit.com/wp-content/uploads/2015/11/adidas-yeezy-350-boost-moonrock-release-1.jpg"
            }

            var getTopScore = () => {
                console.log(scores)

                // Yeah, there's no way I wrote this. Taken from: http://stackoverflow.com/questions/27376295/getting-key-with-the-highest-value-from-object
                var topScore = Object.keys(scores).reduce(function (a, b) {
                    return scores[a] > scores[b]
                        ? a
                        : b
                });

                console.log(topScore);
                return topScore;

            }

            var modifyScore = (question, value) => {
                switch (question) {
                    case 'q1':
                        scores["Oreo"] += value;
                        break;
                    case 'q2':
                        scores["Beluga"] += value;
                        break;
                    case 'q3':
                        scores["Zebra"] += value;
                        break;
                    case 'q4':
                        scores["\'Bred\'"] += value;
                        break;
                    case 'q5':
                        scores["Moonrock"] += value;
                        break;
                    case 'q6':
                        scores["Turtle Dove"] += value;
                        break;
                    default:
                        break;
                }

            }
            function typeOf(obj) {
                return {}.toString.call(obj).split(' ')[1].slice(0, -1).toLowerCase();
            }

            function goToIncomplete() {
                console.log("Go to top");

                let question = document.getElementsByClassName("option")[0].parentElement.id;

                // console.log(question[0].parentElement.id);

                $('html,body').animate({
                    scrollTop: $("#" + question).offset().top - 120
                }, 'slow');
            }

            // Set event handlers
            window.onload = () => {

                // var css = '.option:hover {background-color: rgb(18, 205, 223); color: black;}'; var style = document.createElement('style');
                //
                // if (style.styleSheet) {     style.styleSheet.cssText = css; } else {     style.appendChild(document.createTextNode(css)); }
                //
                // document.getElementsByTagName('head')[0].appendChild(style) EVENT Handler
                let optionClick = (e) => {
                    console.log(e);

                    // Set variabls
                    let currentQuestionDiv;
                    let currentOptionDiv;
                    let currentActiveDiv;

                    // Iterate to get the proper divs from the path
                    for (var n = 0; n < e.path.length; n++) {
                        if (e.path[n].className == "question") {
                            currentQuestionDiv = e.path[n];
                        } else if (e.path[n].className == "option") {
                            currentOptionDiv = e.path[n];
                        } else if (e.path[n].className == "active") {
                            currentActiveDiv = e.path[n];
                        }

                        if (e.path[n].className == "inactive") {
                            return;
                        }

                    }

                    // If click on selected option - clear
                    if (currentActiveDiv) {
                        console.log("here!")
                        let children = currentQuestionDiv.children;
                        for (var i = 0; i < children.length; i++) {
                            let currentDiv = children[i]

                            // Style
                            currentDiv.children[0].style.opacity = 1.0;
                            currentDiv.style.color = 'white';
                            currentDiv.classList.remove('active');
                            currentDiv.classList.remove('inactive');
                            currentDiv.classList.add('option');

                        }
                        modifyScore(currentActiveDiv.id, -1);
                    } else {
                        let children = currentQuestionDiv.children;
                        for (var i = 0; i < children.length; i++) {
                            let currentDiv = children[i]
                            if (currentDiv != currentOptionDiv) {
                                // currentDiv.style.opacity = 0.0;
                                currentDiv.children[0].style.opacity = 0.1;
                                currentDiv.style.color = 'red';
                                currentDiv.classList.remove('active');
                                currentDiv.classList.remove('option');
                                currentDiv.classList.add('inactive');

                            } else {
                                currentOptionDiv.children[0].style.opacity = 1.0;
                                currentDiv.style.color = 'black';
                                currentDiv.classList.remove('option');
                                currentDiv.classList.remove('inactive');
                                currentDiv.classList.add('active');

                                modifyScore(currentOptionDiv.id, 1);

                                console.log(document.getElementsByClassName('active').length);

                                // Finished Quiz!
                                if (document.getElementsByClassName('active').length == 5) {
                                    let topScore = getTopScore();
                                    document.getElementById("result").style.visibility = "visible";
                                    document.getElementById("resultTitle").innerHTML = "You're the Boost 350v2 " + topScore;
                                    document.getElementById("bottomResultShoe").innerHTML = "<img src=\"" + images[topScore] + "\"/>"
                                    document.getElementById("backToTop").style.visibility = "hidden";
                                    $('html,body').animate({
                                        scrollTop: $("#result").offset().top - 120
                                    }, 'slow');

                                } else {
                                    document.getElementById("result").style.visibility = "hidden";
                                    document.getElementById("backToTop").style.visibility = "visible";
                                    let nextQuestion = parseInt(currentQuestionDiv.id) + 1;
                                    $('html,body').animate({
                                        scrollTop: $("#" + nextQuestion).offset().top - 120
                                    }, 'slow');
                                }
                            }
                        }
                    }
                    e.stopPropagation();
                    e.preventDefault();
                }

                let classes = document.getElementsByClassName("option");
                for (let i = 0; i < classes.length; i++) {
                    classes[i].addEventListener('click', optionClick, false);
                };
            }
            // ADAPTED FROM SOMEWHERE, LOST LINK BUT COPIED CODE BEFORE | TODO: FIND
            $(window).scroll(function (e) {

                var distanceScrolled = $(this).scrollTop();

                $(".bg").css('-webkit-filter', 'blur(' + distanceScrolled / 60 + 'px)');
                console.log("here")

            });
        </script>
    </head>

    <body>
        <div class="bg"></div>
    </body>

    <div class="content">

        <nav>
            <div class="navLeft">
                <a href="http://www.burnamtech.com/">
                    brnm
                </a>
            </div>

            <div class="middleX">
                <a href="http://www.yeezyyeezyyeezy.me/">
                    X
                </a>
            </div>

            <div class="navRight">
                <a href="http://cs52.me/">
                    cs52
                </a>
            </div>
        </nav>

        <div class="static"></div>

        <center>

            <div class="question-wrapper">
                <h1>CHOOSE A PROGRAMMING LANGUAGE</h1>
                <div class="question" id=1>
                    <div class="option" id="q1">
                        <div class="optionImage">
                            <img src="https://pluralsight.imgix.net/paths/path-icons/c-plus-plus-93c7ddd5cc.png"/>
                        </div>
                        C++
                    </div>
                    <div class="option" id="q2">
                        <div class="optionImage">
                            <img id="python" src="https://achievement-images.teamtreehouse.com/badges_java_basics_Stage1.png"/>
                        </div>
                        Java
                    </div>
                    <div class="option" id="q3">
                        <div class="optionImage">
                            <img id="python" src="http://vignette2.wikia.nocookie.net/lpunb/images/b/b1/Logo_Python.png/revision/latest?cb=20130301171443"/>
                        </div>
                        Python
                    </div>
                    <div class="option" id="q4">
                        <div class="optionImage">
                            <img src="http://www.unixstickers.com/image/data/stickers/haskell/Haskell-purple.sh.png"/>
                        </div>
                        Haskell
                    </div>
                    <div class="option" id="q5">
                        <div class="optionImage">
                            <img id="python" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/480px-Unofficial_JavaScript_logo_2.svg.png"/>
                        </div>
                        <span class="jsTag">Javascript</span>
                    </div>
                    <div class="option" id="q6">
                        <div class="optionImage">
                            <img id="python" src="http://www.unixstickers.com/image/data/stickers/C/C%20language.sh.png"/>
                        </div>
                        C
                    </div>
                </div>
            </div>

            <div class="question-wrapper">
                <h1>CHOOSE AN ANIMAL</h1>
                <div class="question" id=2>
                    <div class="option" id="q1">
                        <div class="optionImage">
                            <img id="animal" src="http://i1.mirror.co.uk/incoming/article8028408.ece/ALTERNATES/s615b/Bengal-tiger.jpg"/>
                        </div>
                        Tiger
                    </div>
                    <div class="option" id="q2">
                        <div class="optionImage">
                            <img id="animal" src="http://kids.nationalgeographic.com/content/dam/kids/photos/animals/Mammals/A-G/beluga-whale-underewater-closeup-teeth.jpg"/>
                        </div>
                        Beluga
                    </div>

                    <div class="option" id="q3">
                        <div class="optionImage">
                            <img id="animal" src="http://blog.oxforddictionaries.com/wp-content/uploads/zebra.jpg"/>
                        </div>
                        Zebra
                    </div>
                    <div class="option" id="q4">
                        <div class="optionImage">
                            <img id="animal" src="https://s-media-cache-ak0.pinimg.com/originals/ba/c4/81/bac4818bd2db8e3e090ffbbbc2f6d47a.jpg"/>
                        </div>
                        Panther
                    </div>
                    <div class="option" id="q5">
                        <div class="optionImage">
                            <img id="animal" src="https://thumbs-media.smithsonianmag.com/filer/two-male-lions-Kenya-631.jpg__800x600_q85_crop.jpg"/>
                        </div>
                        Lion
                    </div>
                    <div class="option" id="q6">
                        <div class="optionImage">
                            <img id="animal" src="http://muizenbergsafari.com/wp-content/uploads/cape_turtle_dove.gif"/>
                        </div>
                        Dove
                    </div>
                </div>
            </div>

            <div class="question-wrapper">
                <h1>CHOOSE A COLOR</h1>
                <div class="question" id=3>
                    <div class="option" id="q1">
                        <div class="optionImage">
                            <div class="colorBlock" style="background-color:#cac195"></div>
                        </div>
                        Green
                    </div>
                    <div class="option" id="q2">
                        <div class="optionImage">
                            <div class="colorBlock" style="background-color:#ff3c00"></div>
                        </div>
                        Solar orange
                    </div>

                    <div class="option" id="q3">
                        <div class="optionImage">
                            <div class="colorBlock" style="background-color:white"></div>
                        </div>
                        White
                    </div>

                    <div class="option" id="q4">
                        <div class="optionImage">
                            <div class="colorBlock" style="background-color:black"></div>
                        </div>
                        Black
                    </div>
                    <div class="option" id="q5">
                        <div class="optionImage">
                            <div class="colorBlock" style="background-color:red"></div>
                        </div>
                        Red
                    </div>
                    <div class="option" id="q6">
                        <div class="optionImage">
                            <div class="colorBlock" style="background-color:#f6cca2"></div>
                        </div>
                        Gold
                    </div>

                </div>
            </div>

            <div class="question-wrapper">
                <h1>CHOOSE A CAR</h1>
                <div class="question" id=4>
                    <div class="option" id="q1">
                        <div class="optionImage">
                            <img id="animal" src="http://www.plugincars.com/sites/default/files/tesla-model-s-02-2-620.jpg"/>
                        </div>
                        Tesla
                    </div>
                    <div class="option" id="q2">
                        <div class="optionImage">
                            <img id="animal" src="https://www.corvetteforum.com/wp-content/uploads/2016/12/Grand-Sport-C7.jpg"/>
                        </div>
                        Corvette
                    </div>

                    <div class="option" id="q3">
                        <div class="optionImage">
                            <img id="animal" src="http://st.automobilemag.com/uploads/sites/11/2016/03/08-ams-alpha-10-audi-r8.jpg"/>
                        </div>
                        Audi R8
                    </div>
                    <div class="option" id="q4">
                        <div class="optionImage">
                            <img id="animal" src="http://www.mercedes-benz.co.uk/content/media_library/unitedkingdom/mpc_unitedkingdom/passenger_cars_ng/products/new_cars/g-class/g-class_stage_element.object-Single-MEDIA.tmp/header1000x470.jpg"/>
                        </div>
                        Mercedes G-Class
                    </div>
                    <div class="option" id="q5">
                        <div class="optionImage">
                            <img id="animal" src="https://www.rolls-roycemotorcars.com/content/dam/rollsroyce-website/Bespoke/Bespoke%20Phantoms/G.Bespoke_Phantom_00_hero_card_v1.jpg"/>
                        </div>
                        Rolls-Royce
                    </div>
                    <div class="option" id="q6">
                        <div class="optionImage">
                            <img id="animal" src="https://4.bp.blogspot.com/-DeAAUuJJ9yY/WOnjhfDBPQI/AAAAAAAAZdY/nh_3F-4hzB8ZuXr78r5PclS59Fv2F7D9wCLcB/s1600/dodge_challenger_srt_demon.jpg"/>
                        </div>
                        Challenger
                    </div>
                </div>
            </div>

            <div class="question-wrapper">
                <h1>CHOOSE AN ARTIST</h1>
                <div class="question" id=5>
                    <div class="option" id="q1">
                        <div class="optionImage">
                            <img id="animal" src="https://s-media-cache-ak0.pinimg.com/originals/3b/ec/5f/3bec5fbbf860db8e65f7d8443b43d0de.jpg"/>
                        </div>
                        Salvador Dali
                    </div>
                    <div class="option" id="q2">
                        <div class="optionImage">
                            <img id="animal" src="http://www.5minutebiographies.com/wp-content/uploads/2014/07/pablo-picasso-928x435.jpg"/>
                        </div>
                        Pablo Picasso
                    </div>

                    <div class="option" id="q3">
                        <div class="optionImage">
                            <img id="animal" src="http://relacionesinternacionales.media/wp-content/uploads/2016/05/1_030416011403.jpg"/>
                        </div>
                        Banksy
                    </div>
                    <div class="option" id="q4">
                        <div class="optionImage">
                            <img id="animal" src="http://i.huffpost.com/gen/1103853/images/o-HEBRU-BRANTLEY-CHICAGO-ARTIST-JAY-Z-facebook.jpg"/>
                        </div>
                        Hebru Brantley
                    </div>
                    <div class="option" id="q5">
                        <div class="optionImage">
                            <img id="animal" src="https://www.biography.com/.image/t_share/MTM3NTk5OTY0Mjc5NzQzNzMw/vincent_van_gogh_self_portrait_painting_musee_dorsay_via_wikimedia_commons_promojpg.jpg"/>
                        </div>
                        Vincent van Gogh
                    </div>
                    <div class="option" id="q6">
                        <div class="optionImage">
                            <img id="animal" src="http://youredm.youredm1.netdna-cdn.com/wp-content/uploads/2016/02/kanye-getty-images.jpg?x56677"/>
                        </div>
                        Kanye West
                    </div>
                </div>
            </div>

            <div class="backToTop" id="backToTop" onclick="goToIncomplete();">
                <div class="unfinishedQuestion">Go to unfinished question(s)</div>
            </div>
        </center>
    </div>
    <center>
        <div class="result" id="result">
            <div class="resultTitle" id="resultTitle"></div>
            <div class="bottomResultContainer">
                <div class="bottomResultKanye">
                    <img src="H2_AI/kanye.png"/>
                </div>
                <div class="bottomResultShoe" id="bottomResultShoe"></div>
            </div>
        </div>
    </center>
    <div class="static2"></div>
</div>
</html>
